<!Doctype HTML>
<!-- this is a html page that takes a numeric value from a prompt and creates the same number of selection inputs from a list -->
<html>
  <head>
    <title>Beta reduction</title>
    <script>
      // Size for canvas element
      const height = 600;
      const width = 600;
      class Node {
        constructor(label, position, angle) {
            this.id = null;
            this.label = label; // 0: initial, 1: white node, 2: black node
            this.position = position;
            this.angle = angle; // angle for port 0
            this.ports = [null, null, null]; // [[node0, 0], [node1, 1], [node2, 2]]
            // Pivots starts in the same positon as the ports. Each index of the array represents a port. 
            this.pivots = [{x: 0, y: 0}, {x: 0, y: 0}, {x: 0, y: 0}];
            this.radius = 20;
        }
        getPortPosition(slot) {
            var add_angle = [0, getRadianFromAngle(240), getRadianFromAngle(120)][slot];
            var position = add([this.position.x, this.position.y], rotate([this.radius, 0], this.angle + add_angle));
            return {x: position[0], y: position[1]};
        }
    }


      var nodes = [];
    
      //var choices = ["one", "two"];
      var qtd = prompt("digite a quantidade de n√≥s desejada")
      for (var i = 0; i < qtd; i++) {
            this["node" +i] = new Node("1", {x: "localx", y: "localy"}, "getRadianFromAngle(nodeAngle)")
            nodes.push(this["node"+i])
            nodes[i].id = i
        //    console.log(nodes)
        }

      function addInput(divName) {

        var newDiv = document.createElement('div');
        var selectHTML = "";
        selectHTML="<div>";
        for(i = 0; i < nodes.length; i = i + 1) {
          selectHTML += "<p> <option value='" + nodes[i].id + "' id='" + nodes[i].id +"' > node" + nodes[i].id + '</option>' + '<input type="number" id="label' + nodes[i].id + '" placeholder="Label" ></input> <input type="number" placeholder="Position X" id="positionX' + nodes[i].id + '"></input> <input type="number" placeholder="Position Y" id="positionY' + nodes[i].id + '"></input> <input type="number" placeholder="Angle" id="angle'+ nodes[i].id + '"></input></p> ';
          //nodes.push(i)
          //console.log(nodes[i])
        }
        selectHTML += "</div>" ;
          newDiv.innerHTML = selectHTML;
          document.getElementById(divName).appendChild(newDiv);
          console.log(nodes)

      }
    </script>
  </head>
  <body>
    <canvas width="400px" height="400px" id="canvas" style="border: 1px solid black">
        </canvas>

    <form class="new" method="post" action="/jobs">
      <div id="dynamicInput"></div>
      <input type="button" value="Add" onclick="addInput('dynamicInput');" />
      <input type="button" value="Save" />
    </form>
  </body>
</html>



